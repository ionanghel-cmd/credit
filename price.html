<!DOCTYPE html>
<html lang="ro" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Căutare Prețuri Piese - MOTOLAND</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link rel="icon" href="data:,">
</head>
<body class="min-h-screen bg-gradient-to-b from-purple-50 to-white flex flex-col">

  <!-- Header minimalist cu logo -->
  <header class="py-6 text-center">
    <img src="logos/logo.svg" alt="MOTOLAND" class="h-12 mx-auto">
  </header>

  <main class="flex-1 flex items-start justify-center px-4 pt-8 pb-20">
    <div class="w-full max-w-2xl" x-data="priceSearch()">

      <!-- Titlu + subtitlu -->
      <h1 class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 text-center mb-3">
        Căutare Prețuri Piese
      </h1>
      <p class="text-center text-gray-600 mb-10">Introdu codul piesei pentru preț instant</p>

      <!-- Search Box exact ca în poză -->
      <div class="bg-white rounded-3xl shadow-2xl p-8 mb-12">
        <form @submit.prevent>
          <input 
            type="text"
            x-model="query"
            placeholder="ex: amortizor thunder, lant 520, placute cbr, ulei 10w40..."
            class="w-full px-6 py-5 text-lg border-2 border-red-500 rounded-2xl focus:outline-none focus:border-blue-600 transition-colors"
            autofocus
          >
          <button 
            @click="query = query" 
            class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold text-xl py-5 rounded-2xl flex items-center justify-center gap-3 shadow-lg"
          >
            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
            Caută
          </button>
        </form>
      </div>

      <!-- Rezultate – cards identice cu poza ta -->
      <div class="space-y-6">
        <template x-for="item in results" :key="item.name">
          <div class="bg-white rounded-3xl shadow-xl p-8 text-center hover:shadow-2xl transition-shadow">
            <h3 class="text-xl font-bold text-gray-800 mb-4" x-text="item.name"></h3>
            <div class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 mb-2"
                 x-text="formatPrice(item.price)"></div>
            <p class="text-lg text-gray-600">lei</p>
            <p class="text-sm text-gray-400 mt-3">Cod: <span x-text="item.code || '—'"></span></p>
          </div>
        </template>
      </div>

      <!-- No results -->
      <div x-show="query && results.length === 0" class="text-center py-16">
        <p class="text-2xl text-gray-500 font-medium">Niciun rezultat găsit</p>
        <p class="text-gray-400 mt-2">Verifică scrierea și încearcă din nou</p>
      </div>

    </div>
  </main>

  <script>
    function priceSearch() {
      return {
        query: '',
        allItems: [],
        results: [],

        init() {
          fetch('price.json?t=' + Date.now())
            .then(r => r.json())
            .then(data => {
              this.allItems = data;
              this.$watch('query', () => this.search());
            })
            .catch(() => alert('Eroare încărcare prețuri'));
        },

        search() {
          if (!this.query.trim()) {
            this.results = [];
            return;
          }

          const terms = this.query.toLowerCase().trim().split(/\s+/);

          this.results = this.allItems
            .filter(item => {
              const text = (item.name + ' ' + (item.code || '')).toLowerCase();
              return terms.every(term => text.includes(term));
            })
            .slice(0, 200); // max 50 rezultate ca să nu încarce
        },

        formatPrice(price) {
          if (!price && price !== 0) return '—';
          return Number(price).toLocaleString('ro-RO');
        }
      }
    }
  </script>
</body>
</html>
